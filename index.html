
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZMKK4C8');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Spiti Valley Travels</title>
    <meta name="description" content="Experience the magic of Spiti Valley with our expert-guided tours. Discover ancient monasteries, high-altitude villages, and stunning landscapes." />
    
    <!-- Favicon -->
    <link rel="icon" href="/lovable-uploads/1baa95d9-8696-4505-ae05-c0b4a0e805ed.png" sizes="32x32" />
    
    <!-- High priority resources - Preload critical first-view images -->
    <link rel="preload" href="/lovable-uploads/1baa95d9-8696-4505-ae05-c0b4a0e805ed.png" as="image" fetchpriority="high" />
    <link rel="preload" href="/lovable-uploads/f602fe0d-f0de-4c62-bde1-8886b56d9783.png" as="image" fetchpriority="high" />
    
    <!-- Preconnect to essential domains -->
    <link rel="preconnect" href="https://ttyhfrbubjpmzruwwihd.supabase.co" crossorigin />
    <link rel="dns-prefetch" href="https://ttyhfrbubjpmzruwwihd.supabase.co" />
    <link rel="preconnect" href="https://cdn.gpteng.co" crossorigin />
    
    <!-- Inline ultra-critical CSS for first paint -->
    <style>
      /* Base styles for instant painting */
      :root {--background:0 0% 100%;--foreground:222.2 84% 4.9%;--card:0 0% 100%;--card-foreground:222.2 84% 4.9%;--popover:0 0% 100%;--popover-foreground:222.2 84% 4.9%;--primary:222.2 47.4% 11.2%;--primary-foreground:210 40% 98%;--secondary:210 40% 96.1%;--secondary-foreground:222.2 47.4% 11.2%;--muted:210 40% 96.1%;--muted-foreground:215.4 16.3% 46.9%;--accent:210 40% 96.1%;--accent-foreground:222.2 47.4% 11.2%;--destructive:0 84.2% 60.2%;--destructive-foreground:210 40% 98%;--border:214.3 31.8% 91.4%;--input:214.3 31.8% 91.4%;--ring:222.2 84% 4.9%;--radius:0.5rem;}
      
      body,html{margin:0;padding:0;width:100%;height:100%}
      body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;text-rendering:optimizeSpeed;-webkit-text-size-adjust:100%;line-height:1.5;background-color:#2c5282}
      
      /* First Contentful Paint optimization - immediately paint a solid color background */
      body::before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background-color:#2c5282;z-index:-2;display:block}
      
      /* Largest Contentful Paint optimization - Use a color block placeholder for hero image */
      .hero-placeholder{position:absolute;inset:0;background-color:#2c5282}
      
      /* Initial layout skeleton to prevent layout shifts */
      #root{display:flex;flex-direction:column;min-height:100vh}
      .hero-container{position:relative;height:100vh;overflow:hidden;display:flex;align-items:center;justify-content:center;color:white}
      .hero-content{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;z-index:1;padding:1rem}
      .hero-title{font-size:2rem;margin:0.5rem 0;font-weight:500}
      .hero-logo{width:80px;height:80px;margin-bottom:1rem}
      
      /* Remove flash of unstyled content */
      .invisible-until-js{opacity:0;transition:opacity 0.3s}
      
      /* Minimize CLS with predefined spaces */
      .h-16{height:4rem}
      .mb-4{margin-bottom:1rem}
      .flex-center{display:flex;align-items:center;justify-content:center}
      
      @media (min-width:768px){
        .hero-title{font-size:3rem}
        .hero-logo{width:100px;height:100px}
      }
    </style>
    
    <!-- Preload React runtime for faster application bootup -->
    <link rel="modulepreload" href="/assets/index-xxxx.js" as="script" fetchpriority="high" />
    
    <!-- Defer non-critical CSS -->
    <link rel="stylesheet" href="/src/index.css" media="print" onload="this.media='all'; this.onload=null;" />
    <noscript>
      <link rel="stylesheet" href="/src/index.css" />
    </noscript>
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KZMKK4C8"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <!-- Initial content shell for faster FCP, will be replaced by React -->
    <div id="initial-content" aria-hidden="true">
      <div class="hero-container">
        <div class="hero-placeholder"></div>
        <div class="hero-content">
          <img src="/lovable-uploads/1baa95d9-8696-4505-ae05-c0b4a0e805ed.png" alt="Spiti Valley Travels Logo" class="hero-logo" width="80" height="80" />
          <h1 class="hero-title">Spiti Valley Travels</h1>
        </div>
      </div>
    </div>
    
    <!-- Root app mount point (initially hidden) -->
    <div id="root" class="invisible-until-js"></div>
    
    <!-- Optimized script loading -->
    <script>
      // Hide initial content and show React app once loaded
      window.addEventListener('DOMContentLoaded', function() {
        // Start loading background image after critical content
        setTimeout(function() {
          var style = document.createElement('style');
          style.textContent = 'body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(to bottom, rgba(44, 82, 130, 0.15), rgba(99, 179, 237, 0.1)),url("/lovable-uploads/f602fe0d-f0de-4c62-bde1-8886b56d9783.png");background-size:cover;background-position:center;z-index:-1;opacity:0;animation:fadeIn 0.5s forwards 0.1s}@keyframes fadeIn{to{opacity:1}}';
          document.head.appendChild(style);
        }, 100);
      });
      
      // Show the React app once it has rendered
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          var initialContent = document.getElementById('initial-content');
          var root = document.getElementById('root');
          
          if (initialContent && root) {
            // Fade in the React app
            root.classList.remove('invisible-until-js');
            root.style.opacity = '1';
            
            // Remove the initial content placeholder after React is visible
            setTimeout(function() {
              initialContent.style.display = 'none';
            }, 300);
          }
        }, 200);
      });
    </script>
    
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module" defer></script>
    <script type="module" src="/src/main.tsx" defer></script>
  </body>
</html>
